# 配置监控告警（在Flink全托管开发控制台配置）

Flink全托管支持配置作业运行的监控告警，作业运行过程中，如果触发了监控规则，系统会给您发送告警消息，便于您及时发现并处理异常。本文为您介绍如何在Flink全托管开发控制台配置监控告警。

已开通应用实时监控服务ARMS，详情请参见[开通和升级ARMS](/cn.zh-CN/快速入门/开通和升级ARMS.md)。

您可以在Flink全托管开发控制台，快速配置监控告警，操作简单、易用，效率高。您也可以在ARMS产品中配置监控告警时，需要指定集群、类型、大盘和PromQL等信息，但此方式操作复杂、上手成本高、告警配置效率低，详情请参见[配置监控告警（在ARMS控制台中配置）](/cn.zh-CN/Flink全托管/运维管理/配置监控告警（在ARMS控制台中配置）.md)。

## 创建监控告警规则

1.  登录[实时计算统一控制台](https://realtime-compute.console.aliyun.com/regions/cn-shanghai)。

2.  在**Flink全托管**页签，单击目标工作空间**操作**列下的**开发控制台**。

3.  在左侧导航栏上，单击**作业列表**。

4.  单击目标作业名称。

5.  单击**告警配置**页签。

6.  单击**告警规则**页签。

7.  单击**添加告警规则**。

8.  选择**添加告警规则** \> **自定义规则**。

    如果您已在Flink开发控制台系统管理中配置了告警模板，您也可以单击告警模板名称，继续后续的步骤，加快配置监控告警的效率。告警模板创建步骤请参见[创建告警模板](#section_ppt_9m7_u9d)。

9.  填写告警规则信息。

    ![规则信息](https://static-aliyun-doc.oss-accelerate.aliyuncs.com/assets/img/zh-CN/5256783061/p177121.png)

    |类别|参数|描述|
    |--|--|--|
    |**具体规则**|规则名称|以字母开头，仅包含小写英文字母、数字、下划线（\_）, 长度限制为3~64个字符。|
    |描述|规则的备注信息。|
    |内容|配置触发报警的条件内容，配置完成后会每间隔指定时间，对指定的指标值与阈值进行计算比较，计算结果满足则自动报警。其中：

    -   指标：支持两种指标
        -   restart count in 1 minute：1分钟内Job Manager重启次数。
        -   checkpoint count in 5 minutes：5分钟内Checkpoint成功次数。
        -   Emit Delay：业务延时，即数据发生时间与数据离开Flink时间之间的差值，单位为秒。
    -   检查间隔N：每N分钟检查一次，需要小于等于60分钟，单位为分钟。
    -   运算符：支持\>=和<=两种。
    -   阈值：与指标进行比较的值。 |
    |生效时间|告警监控的生效时间，可以指定只在白天（9点~18点）生效，默认全天生效。|
    |告警频率|支持1分钟和1天两种，即每分钟告警一次或每天告警一次。|
    |**通知方式**|通知方式|支持以下三种通知方式：    -   DingDing：钉钉
    -   Email：邮件
    -   SMS：短信
**说明：** 您可以在联系人中配置联系人的电话、邮箱和钉钉信息。 |
    |联系人组|可以通知联系人或联系组。您可以在单击下面按钮，编辑联系人和联系组。|

10. 单击**保存**。

    保存后的告警规则默认已启用，且出现在告警规则列表中，您可以选择停止、编辑或删除。


## 创建告警模板

1.  登录[实时计算统一控制台](https://realtime-compute.console.aliyun.com/regions/cn-shanghai)。

2.  在**Flink全托管**页签，单击目标工作空间**操作**列下的**开发控制台**。

3.  在左侧导航栏上，单击**告警模板**。

4.  单击**添加告警模板**。

5.  填写规则信息。

    ![报警模板](https://static-aliyun-doc.oss-accelerate.aliyuncs.com/assets/img/zh-CN/5256783061/p177127.png)

    |类别|参数|描述|
    |--|--|--|
    |**具体规则**|规则名称|以字母开头，仅包含小写英文字母、数字、下划线（\_）, 长度限制为3~64个字符。|
    |描述|规则的备注信息。|
    |内容|配置触发报警的条件内容，配置完成后会每间隔指定时间，对指定的指标值与阈值进行计算比较，计算结果满足则自动报警。其中：

    -   指标：支持两种指标
        -   restart count in 1 minute：1分钟内Job Manager重启次数。
        -   checkpoint count in 5 minutes：5分钟内Checkpoint成功次数。
        -   Emit Delay：业务延时，即数据发生时间与数据离开Flink时间之间的差值，单位为秒。
    -   检查间隔N：每N分钟检查一次，需要小于等于60分钟，单位为分钟。
    -   运算符：支持\>=和<=两种。
    -   阈值：与指标进行比较的值。 |
    |生效时间|告警监控的生效时间，可以指定只在白天（9点~18点）生效，默认全天生效。|
    |告警频率|支持1分钟和1天两种，即每分钟告警一次或每天告警一次。|
    |**通知方式**|通知方式|支持以下三种通知方式：    -   DingDing：钉钉
    -   Email：邮件
    -   SMS：短信
**说明：** 您可以在联系人中配置联系人的电话、邮箱和钉钉信息。 |
    |联系人组|可以通知联系人或联系组。您可以在单击下面按钮，编辑联系人和联系组。|

6.  单击**保存**。

    保存后的告警规则会出现在告警模板列表中，您可以选择编辑或删除。


