---
keyword: [计量计费, 费用, 收费]
---

# 计量计费

本章节汇总了使用实时计算过程中计量计费的常见问题。

-   [为什么计算的CU跟显示消耗的CU不一致？](#section_939_i8v_foh)
-   [阿里云实时计算如何计量和收费？](#section_f4i_dbt_b08)
-   [阿里云实时计算是否带来其他费用？](#section_sv5_olo_9r9)
-   [为什么已使用CU和资源消耗总和不一致？](#section_h20_sqf_84p)
-   [实时计算到期不续费，作业信息是否会被保留？](#section_c0x_c49_bad)
-   [按量付费和包年包月两种付费模式可以相互转换吗？](#section_9py_duu_eu6)
-   [已经完成购买的独享集群如何进行资源配置变更？](#section_hkg_mrb_vzz)
-   [非高可用集群如何获得高可用性保障SLA服务？](#section_xos_gbn_mg2)
-   [初次购买的独享集群中Slave型号为8核32g，能否将Slave型号升配为16核64g或降配为4核16g？](#section_lmu_0lg_xvq)

## 为什么计算的CU跟显示消耗的CU不一致？

配置界面配置的资源只是单个Operator的计算资源，不包括框架额外消耗的资源。所以，Operator消耗CU数值相加，和最后运行消耗的CU数值不相同。

框架额外消耗的资源包括但不限于：

-   网络资源。
-   为Operator优化所消耗的其他资源。
-   各个JOIN、 GROUP BY等节点分配的state\_size所消耗的资源。

    ![state_size所消耗的资源](https://static-aliyun-doc.oss-accelerate.aliyuncs.com/assets/img/zh-CN/6852749951/p93519.png)

    **说明：** 由于state\_size=1，需要额外的堆外内存来进行缓存（需要运行的时候才知道缓存的量），这些资源无法体现到资源配置中。


## 阿里云实时计算如何计量和收费？

实时计算的基本计量单位为CU（Compute Unit），即计算资源。一个CU对应于实时计算底层系统是一个CPU的计算能力。实时计算底层使用虚拟化技术进行资源隔离，保证一个基本的CU消费且最大消费仅能为一个CPU的计算能力。

一个CU描述了一个实时计算作业最小运行能力，即在限定的CPU、内存、I/O情况下对于事件流处理的能力。一个实时计算作业可以指定在1个或多个CU上运行。

当前实时计算定义1CU的处理能力约为1000条数据/秒。

实时计算支持包年包月购买，详情请参见[开通服务和创建项目](/cn.zh-CN/Blink独享/共享集群（原产品线）/准备工作/开通服务和创建项目.md)。

**说明：** 一个CU一天的单价是人民币6元，您可以根据业务以月或者年为单位选择购买的时长。例如：购买了10个CU、购买时长是一个月30天，则购买的费用为6\*10\*30=1800RMB。

## 阿里云实时计算是否带来其他费用？

阿里云实时计算独立于其从中读取数据的流源和向其中写入处理数据的目标。因此您需要分别为输入和输出流相关的上下游付费。例如，您向LogHub写入数据，需要提供相应的存储费用。请查看所涉及到对应存储产品的收费细则。

## 为什么已使用CU和资源消耗总和不一致？

-   问题描述：

    为什么**总览**界面上**已使用CU**与项目中所有作业的**资源消耗**总和不一致？ 如下图，**已使用CU**为22.93CU，而所有作业**资源消耗**总和为24.11CU。

    ![资源消耗](https://static-aliyun-doc.oss-accelerate.aliyuncs.com/assets/img/zh-CN/6852749951/p93515.jpeg)

-   解释说明：

    作业资源计算方法和已使用CU计算方法不同，导致了二者的显示结果不同。

    -   作业资源计算方法：

        CU是真实物理资源的一个抽象，1CU=1核CPU+4G MEM（即内存）。一个作业真实消耗的CU数=MAX（作业申请的CPU，作业申请的MEM/4G）。例如，一个作业申请了1核CPU+5G MEM，那么实际消耗资源为1.25CU。

    -   已使用CU计算方法：

        已使用CU=MAX（所有作业申请的CPU总和，所有作业申请的MEM总和/4G）。

-   示例说明：

    例如，1个项目有2个作业A和B。作业A申请的资源为（1核CPU，6G MEM）。作业B申请的资源为（1核CPU，2G MEM）。

    -   作业实际消耗资源总和为2.5CU。单作业实际资源消耗如下：
        -   作业A实际消耗资源为1.5CU。
        -   作业B实际消耗资源为1CU。
    -   整个项目实际的资源申请数为（2核CPU，8GMEM），即项目的**已使用CU**=2CU。
    因此，项目**总览**界面上**已使用CU**（2CU）与项目中所有作业的**资源消耗**总和（2.5CU）有可能不一致。


## 实时计算到期不续费，作业信息是否会被保留？

实时计算到期释放后，不会保留数据。如果您再次购买实时计算服务后新建项目，可以导入原有项目的作业。

## 按量付费和包年包月两种付费模式可以相互转换吗？

按量付费和包年包月两种付费模式不可相互转换。

## 已经完成购买的独享集群如何进行资源配置变更？

已购买独享集群仅支持Master升配和Slave扩容或缩容（Slave数量的增减）。

## 非高可用集群如何获得高可用性保障SLA服务？

非高可用集群（一台Master）和高可用集群（三台Master）不能够进行相互转换。仅高可用集群（三台Master）支持高可用性保障SLA服务。如果您购买的是非高可用集群（一台Master），需要重新购买高可用集群（三台Master）后，才可以获得高可用性保障SLA服务。

## 初次购买的独享集群中Slave型号为**8核32g**，能否将Slave型号升配为**16核64g**或降配为**4核16g**？

无法对已购买的独享集群中Slave的型号进行变更，只能对Slave的数量进行调整。需要重新购买集群实现对Slave型号的升降配需求。

